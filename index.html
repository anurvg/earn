<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sidehustle Guide â€” Earn Online (Curated)</title>
  <meta name="description" content="Curated list of free & legit survey / side-income apps. Created for you by u/pablowasdead" />
  <meta name="theme-color" content="#0a66c2" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f4f8fb;
      --panel:#ffffff;
      --text:#071429;
      --muted:#556070;
      --accent:#0a66c2;     /* dynamic via JS */
      --accent-2:#1e88e5;   /* dynamic via JS */
      --glass: rgba(10,102,194,0.06);
      --card-shadow-1: 0 10px 20px rgba(10,24,40,0.06);
      --card-shadow-2: 0 18px 40px rgba(10,24,40,0.06);
      --radius:12px;
      --maxw:1120px;
      --gap:18px;
      --filter-default: survey;
      --watermark-opacity:0.035;
      --btn-depth: 6px;
    }

    :root[data-theme="dark"]{
      --bg:#071026;
      --panel:#0e1724;
      --text:#e6eef9;
      --muted:#9fb2d0;
      --card-shadow-1: 0 12px 28px rgba(2,8,18,0.6);
      --card-shadow-2: 0 22px 60px rgba(2,8,18,0.6);
      --watermark-opacity:0.04;
    }

    /* basic reset */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background:
        radial-gradient(800px 400px at 10% 8%, rgba(10,102,194,0.03), transparent 10%),
        radial-gradient(700px 350px at 92% 92%, rgba(30,136,229,0.02), transparent 8%),
        var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding-bottom:80px;
      transition: background .28s ease, color .28s ease;
      -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* watermark clickable to reddit */
    .watermark-wrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:0}
    .watermark{
      pointer-events:auto;
      display:inline-block;font-weight:800;color:var(--text);
      font-size:84px;opacity:var(--watermark-opacity);transform:rotate(-18deg) translateY(-6vh);
      letter-spacing:10px;user-select:none;text-decoration:none;
      color:rgba(0,0,0,0.06);
    }
    :root[data-theme="dark"] .watermark{ color: rgba(255,255,255,0.06); }

    /* header */
    header{
      position:fixed; top:12px; left:0; right:0; z-index:1200; display:flex;justify-content:center;pointer-events:none;
    }
    .header-inner{
      width:100%;max-width:var(--maxw);padding:8px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px;
      background:var(--panel);border-radius:12px;box-shadow:var(--card-shadow-2);border:1px solid rgba(10,24,40,0.04);
      pointer-events:auto;
    }
    .brand{display:flex;gap:12px;align-items:center;color:var(--accent);font-weight:700}
    .logo{width:44px;height:44px;border-radius:8px;display:grid;place-items:center;background:linear-gradient(180deg, rgba(10,102,194,0.09), rgba(30,136,229,0.03));color:#fff;font-weight:800}
    nav{display:flex;gap:12px;align-items:center;justify-content:center;margin-left:8px}
    nav a{font-weight:600;color:var(--text);padding:8px 12px;border-radius:8px}
    nav a:hover{background:rgba(10,102,194,0.06); color:var(--accent)}

    /* ===== Improved theme toggle CSS starts here ===== */
    .theme-switch {
      display:inline-flex;
      align-items:center;
      position:relative;
      cursor:pointer;
      width:92px;
      height:36px;
      background:var(--glass);
      border-radius:999px;
      border:1px solid rgba(10,24,40,0.08);
      padding:0;
      flex-shrink:0;
    }
    .theme-track{
      position:relative;
      width:100%;
      height:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 8px;
    }
    .theme-label{
      font-size:0.75rem;
      font-weight:700;
      color:var(--muted);
      transition:color .22s;
      pointer-events:none;
      user-select:none;
    }
    .light-label{ color:var(--accent); }
    .dark-label{ color:var(--muted); }
    input#themeInput{ display:none; }
    .theme-knob{
      position:absolute;
      top:3px;
      left:3px;
      width:30px;
      height:30px;
      border-radius:999px;
      background:linear-gradient(180deg,#fff,#e6eef9);
      box-shadow:0 4px 12px rgba(0,0,0,0.18);
      transition:left .32s cubic-bezier(.2,.9,.3,1), background .28s;
    }
    :root[data-theme="dark"] .theme-knob{ left:59px; background:linear-gradient(180deg,#0b1a2b,#08121b); }
    :root[data-theme="dark"] .light-label{ color:var(--muted); }
    :root[data-theme="dark"] .dark-label{ color:var(--accent); }
    /* ===== Improved theme toggle CSS ends here ===== */

    /* main container */
    .container{max-width:var(--maxw);margin:120px auto 0;padding:0 18px;position:relative;z-index:2}

    /* hero */
    .hero{display:grid;grid-template-columns:1fr 360px;gap:var(--gap);align-items:start;margin-bottom:18px}
    .hero-left{background:var(--panel);border-radius:var(--radius);padding:22px;box-shadow:var(--card-shadow-1);border:1px solid rgba(10,24,40,0.04)}
    .badge{display:inline-block;padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;font-weight:700;font-size:0.85rem}
    h1{margin:12px 0 8px;font-size:clamp(1.35rem,2.2vw,2rem);color:var(--text)}
    p.lead{color:var(--muted);margin:0 0 12px;max-width:70ch}

    .controls{display:flex;gap:12px;align-items:center;margin-top:12px;flex-wrap:wrap}
    .search{display:flex;align-items:center;gap:8px;background:rgba(10,24,40,0.03);padding:8px;border-radius:10px;border:1px solid rgba(10,24,40,0.02);min-width:260px;flex:1}
    .search input{border:0;background:transparent;outline:none;font-size:0.95rem;color:var(--text);width:100%}
    .filter{display:flex;gap:8px;align-items:center}
    .select{padding:8px 12px;border-radius:10px;border:1px solid rgba(10,24,40,0.06);background:transparent;font-weight:600;color:var(--muted)}

    /* 3D buttons (all) */
    .btn, .linkbtn, .download-btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 14px;border-radius:12px;border:0;
      font-weight:800;color:#fff;cursor:pointer;user-select:none;
      box-shadow: 0 var(--btn-depth) var(calc(var(--btn-depth) * 3)) rgba(10,24,40,0.18), inset 0 -2px rgba(255,255,255,0.04);
      transform: translateY(0);
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
    }
    .btn:hover, .linkbtn:hover, .download-btn:hover{ transform: translateY(-4px); box-shadow: 0 calc(var(--btn-depth) + 6px) var(calc(var(--btn-depth) * 4)) rgba(10,24,40,0.2) }
    .btn:active, .linkbtn:active, .download-btn:active{ transform: translateY(2px); box-shadow: 0 2px 8px rgba(3,6,12,0.12) }
    .btn{background:linear-gradient(180deg,var(--accent),var(--accent-2))}
    .linkbtn{background:linear-gradient(180deg,var(--accent),var(--accent-2));min-width:120px;border-radius:10px}
    .download-btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));border-radius:12px;padding:12px 16px}

    .ghost{padding:9px 12px;border-radius:10px;border:1px solid rgba(10,24,40,0.04);background:transparent;color:var(--muted);font-weight:600}

    .hero-right{background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,250,255,0.98));border-radius:var(--radius);padding:16px;border:1px solid rgba(10,24,40,0.03);box-shadow:var(--card-shadow-1);display:flex;flex-direction:column;gap:10px;min-height:140px}
    .mini-title{color:var(--accent);font-weight:700}
    .progress{display:flex;gap:10px;align-items:center;justify-content:space-between;background:rgba(10,24,40,0.02);padding:10px;border-radius:10px}
    .small{color:var(--muted);font-size:0.88rem}

    /* grid & cards */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--gap);margin-top:16px}
    .card{background:var(--panel);border-radius:12px;padding:16px;border:1px solid rgba(10,24,40,0.03);box-shadow:var(--card-shadow-1);transition:transform .32s, box-shadow .32s;display:flex;flex-direction:column;justify-content:space-between;min-height:190px;overflow:hidden}
    .card:hover{transform:translateY(-8px) scale(1.008);box-shadow:var(--card-shadow-2)}
    .title{font-weight:700;color:var(--text);margin:6px 0 8px}
    .desc{color:var(--muted);font-size:0.95rem;margin-bottom:10px;flex:1}
    .tags{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .tag{font-size:0.8rem;padding:6px 10px;border-radius:999px;background:rgba(10,24,40,0.03);color:var(--muted);border:1px solid rgba(10,24,40,0.02);transition:transform .3s}
    .tag.pulse{animation:tagPulse 2.2s infinite}
    @keyframes tagPulse{0%{transform:translateY(0)}50%{transform:translateY(-3px)}100%{transform:translateY(0)}}
    .visit{display:flex;gap:10px;align-items:center;justify-content:center}
    .muted{color:var(--muted);font-size:0.92rem}

    /* download card */
    .download-card{background:var(--panel);border-radius:12px;padding:18px;border:1px solid rgba(10,24,40,0.04);box-shadow:var(--card-shadow-1);margin-top:26px}
    .download-hero{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
    .download-hero .info{flex:1;min-width:240px}
    .download-hero .actions{display:flex;gap:12px;align-items:center;flex-direction:column;min-width:200px}

    .spinner{width:18px;height:18px;border-radius:50%;border:3px solid rgba(255,255,255,0.18);border-top-color:rgba(255,255,255,0.95);animation:spin .75s linear infinite;display:inline-block}
    @keyframes spin{to{transform:rotate(360deg)}}

    .prepare-overlay{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:1600;background:var(--panel);border-radius:12px;padding:18px 20px;border:1px solid rgba(10,24,40,0.06);box-shadow:var(--card-shadow-2);display:flex;align-items:center;gap:14px;min-width:260px;opacity:0;pointer-events:none;transition:opacity .18s}
    .prepare-overlay.show{opacity:1;pointer-events:auto}

    .no-results{margin-top:18px;color:var(--muted);font-size:0.98rem;text-align:center;display:none}

    footer{margin-top:30px;padding:18px;border-radius:10px;background:transparent;text-align:center;color:var(--muted);font-size:0.92rem;max-width:var(--maxw);margin-left:auto;margin-right:auto;padding-bottom:48px}

    /* reveal animations */
    .reveal{opacity:0;transform:translateY(12px);transition:opacity .6s ease, transform .6s ease}
    .reveal.show{opacity:1;transform:none}
    .reveal-right{opacity:0;transform:translateX(12px);transition:opacity .6s ease, transform .6s ease}
    .reveal-right.show{opacity:1;transform:none}

    /* tilt helper for pointer devices (disabled on touch) */
    .tilt{transform-style: preserve-3d; perspective:1000px; transition: transform .12s ease}

    /* responsive */
    @media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}.hero{grid-template-columns:1fr 320px}}
    @media (max-width:700px){nav{display:none}.hero{grid-template-columns:1fr}.hero-right{display:none}.grid{grid-template-columns:1fr}.container{margin-top:100px}}

    /* small focus */
    .btn:focus,.linkbtn:focus,.download-btn:focus,.select:focus,.search input:focus{outline:3px solid rgba(10,102,194,0.12);outline-offset:3px;border-radius:12px}
  </style>
</head>
<body>
  <!-- watermark clickable to reddit -->
  <div class="watermark-wrap" aria-hidden="false">
    <a class="watermark" href="https://reddit.com/user/pablowasdead" target="_blank" rel="noopener noreferrer" aria-label="Visit pablowasdead on Reddit">pablowasdead</a>
  </div>

  <!-- header -->
  <header id="siteHeader" aria-hidden="false">
    <div class="header-inner" role="navigation" aria-label="Main navigation">
      <div style="display:flex;align-items:center;gap:12px">
        <a class="brand" href="#top" aria-label="Sidehustle Guide">
          <span class="logo">S</span>
          Sidehustle Guide
        </a>

        <nav aria-label="Primary navigation">
          <a href="#top">Home</a>
          <a href="#list">Opportunities</a>
          <a href="#download">Blueprint</a>
          <a href="#contact">Contact</a>
        </nav>
      </div>

      <!-- ===== Improved Theme Toggle (HTML) ===== -->
      <label class="theme-switch" title="Toggle dark / light theme" id="themeSwitch" role="switch" aria-checked="false" tabindex="0">
        <input type="checkbox" id="themeInput" aria-label="Theme toggle">
        <div class="theme-track">
          <span class="theme-label light-label">Light</span>
          <span class="theme-label dark-label">Dark</span>
          <div class="theme-knob" aria-hidden="true"></div>
        </div>
      </label>
      <!-- ===== end toggle ===== -->
    </div>
  </header>

  <main class="container" id="top" role="main">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-left reveal" data-reveal>
        <span class="badge">Free â€¢ No Investment</span>
        <h1 id="hero-heading">Start earning online â€” curated & organised</h1>
        <p class="lead">A compact, focused list of survey & side-income platforms â€” quick summaries and direct access to each site.</p>

        <p style="color:#158f6c;margin-top:8px;font-weight:600;">Built under TreeLogic â€” A collective of digital minds.</p>

        <div class="controls" style="margin-top:12px">
          <div class="search" title="Search platforms">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <input id="search" type="search" placeholder="Search platforms, tags, or keywords..." aria-label="Search platforms">
          </div>

          <div class="filter">
            <select id="filter" class="select" aria-label="Filter by tag">
              <option value="all">All categories</option>
              <option value="survey">Survey</option>
              <option value="app">App</option>
              <option value="data">Data</option>
              <option value="passive">Passive</option>
            </select>
            <button class="btn" id="clear">Clear</button>
          </div>

          <div style="margin-left:auto" class="cta-row">
            <a class="btn" href="#list">Explore</a>
          </div>
        </div>

        <div class="note" style="margin-top:14px;display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
          <div style="display:flex;gap:10px;align-items:center">
            <span style="font-weight:700;color:var(--accent)">Curated:</span>
            <span class="small">Survey apps â€¢ micro-tasks â€¢ data apps</span>
          </div>
          <div style="font-size:0.85rem;color:var(--muted)">Tip: use a dedicated email and enable 2FA where available.</div>
        </div>
      </div>

      <aside class="hero-right reveal-right" data-reveal aria-hidden="true">
        <div class="mini-title">Snapshot</div>
        <div class="progress" style="margin-top:8px">
          <div>
            <div class="k" style="font-weight:700;font-size:1.05rem">6 Platforms</div>
            <div class="small">Survey & side-income apps</div>
          </div>
          <div style="text-align:right">
            <div class="k" style="font-weight:700;font-size:1.05rem">Free</div>
            <div class="small">No upfront payment</div>
          </div>
        </div>

        <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap">
          <div style="padding:8px 10px;border-radius:10px;background:rgba(10,24,40,0.03);font-weight:700">Surveys</div>
          <div style="padding:8px 10px;border-radius:10px;background:rgba(10,24,40,0.03)">Apps</div>
          <div style="padding:8px 10px;border-radius:10px;background:rgba(10,24,40,0.03)">Passive</div>
        </div>

        <div style="margin-top:auto;padding-top:12px;color:var(--muted);font-size:0.9rem">
          Tip: finish profile surveys to get more matches and check payout thresholds.
        </div>
      </aside>
    </section>

    <!-- LIST / GRID -->
    <section id="list" aria-labelledby="list-heading" style="margin-top:6px" class="reveal" data-reveal>
      <h2 id="list-heading" class="visually-hidden">Opportunities</h2>

      <div class="grid" id="cards">
        <!-- Ipsos iSay -->
        <article class="card tilt" data-tags="survey micro-earn free" aria-labelledby="t-ipsos">
          <div>
            <div id="t-ipsos" class="title">Ipsos iSay</div>
            <div class="desc">Ipsos iSay is a survey platform that rewards users for completing opinion surveys. Good for casual earnings â€” payouts usually via gift cards or PayPal (check availability by region).</div>
            <div class="tags"><span class="tag pulse">Survey</span><span class="tag">Micro-earn</span><span class="tag">Free</span></div>
          </div>
          <div class="visit">
            <a href="https://www.ipsosisay.com/en-in/referral/a4c90130-9d52-11f0-a833-6f14141c42bc" target="_blank" rel="noopener noreferrer" aria-label="Visit Ipsosisay">
              <span class="linkbtn">Ipsosisay</span>
            </a>
          </div>
        </article>

        <!-- GrabPoints -->
        <article class="card tilt" data-tags="surveys tasks rewards" aria-labelledby="t-grab">
          <div>
            <div id="t-grab" class="title">GrabPoints</div>
            <div class="desc">GrabPoints offers surveys, videos, and small tasks that pay in points redeemable for PayPal, gift cards, or crypto. Best for users who complete multiple small activities daily.</div>
            <div class="tags"><span class="tag">Surveys</span><span class="tag">Tasks</span><span class="tag">Rewards</span></div>
          </div>
          <div class="visit">
            <a href="https://grabpoints.com?ref=9J9WT4" target="_blank" rel="noopener noreferrer" aria-label="Visit GrabPoints">
              <span class="linkbtn">Grabpoints</span>
            </a>
          </div>
        </article>

        <!-- Measure Protocol -->
        <article class="card tilt" data-tags="data passive secure" aria-labelledby="t-measure">
          <div>
            <div id="t-measure" class="title">Measure Protocol (Contributor)</div>
            <div class="desc">An app that pays users for sharing data and participating in research. Emphasizes privacy and secure handling of contributor data â€” useful for passive earnings when you allow data collection.</div>
            <div class="tags"><span class="tag">Data</span><span class="tag">Passive</span><span class="tag">Secure</span></div>
          </div>
          <div class="visit">
            <a href="https://contributor.measureprotocol.com/i/aHu0TIwm" target="_blank" rel="noopener noreferrer" aria-label="Visit Measure Protocol">
              <span class="linkbtn">Measure Protocol</span>
            </a>
          </div>
        </article>

        <!-- Attapoll -->
        <article class="card tilt" data-tags="app short-surveys side-income" aria-labelledby="t-attapol">
          <div>
            <div id="t-attapol" class="title">Attapol</div>
            <div class="desc">AttaPoll is a mobile-first survey app focused on short surveys and quick payouts â€” popular for side income. Very handy when you want short tasks on the go.</div>
            <div class="tags"><span class="tag">App</span><span class="tag">Short Surveys</span><span class="tag">Side Income</span></div>
          </div>
          <div class="visit">
            <a href="https://attapoll.app/join/sxryk" target="_blank" rel="noopener noreferrer" aria-label="Visit Attapoll">
              <span class="linkbtn">Attapol</span>
            </a>
          </div>
        </article>

        <!-- Rakuten Insight -->
        <article class="card tilt" data-tags="survey rewards trusted" aria-labelledby="t-rakutan">
          <div>
            <div id="t-rakutan" class="title">Rakutan insight</div>
            <div class="desc">Rakuten Insight collects consumer feedback and offers rewards for surveys. Region availability can affect rewards â€” register and verify payout methods in your dashboard.</div>
            <div class="tags"><span class="tag pulse">Survey</span><span class="tag">Rewards</span><span class="tag">Trusted</span></div>
          </div>
          <div class="visit">
            <a href="https://member.insight.rakuten.co.in/home" target="_blank" rel="noopener noreferrer" aria-label="Visit Rakuten Insight">
              <span class="linkbtn">Rakutan insight</span>
            </a>
          </div>
        </article>

        <!-- PrimeOpinion -->
        <article class="card tilt" data-tags="survey payouts consistent" aria-labelledby="t-prime">
          <div>
            <div id="t-prime" class="title">PrimeOpinion</div>
            <div class="desc">PrimeOpinion provides surveys and research tasks that reward active contributors. Good for consistent survey takers â€” always check minimum payout thresholds before redeeming.</div>
            <div class="tags"><span class="tag">Survey</span><span class="tag">Payouts</span><span class="tag">Consistent</span></div>
          </div>
          <div class="visit">
            <a href="https://primeopinion.com/register?ref=a008755f-52f5-418f-87d9-6bc04c0666e5" target="_blank" rel="noopener noreferrer" aria-label="Visit PrimeOpinion">
              <span class="linkbtn">PrimeOpinion</span>
            </a>
          </div>
        </article>
      </div>

      <div class="no-results" id="noResults">No results found. Try a different keyword or category.</div>

      <div style="margin-top:16px;color:var(--muted);font-size:0.95rem">
        <strong>How to use:</strong> Pick a platform, sign up with a dedicated email, finish profile surveys to receive more invites, and check payout thresholds.
      </div>
    </section>

    <!-- Download Survey Qualification Blueprint -->
    <section id="download" class="download-card reveal" data-reveal>
      <div class="download-hero">
        <div class="info">
          <h3 style="margin:0 0 8px;color:var(--text)">Download â€” Survey Qualification Blueprint</h3>
          <p style="margin:0 0 8px;color:var(--muted)">
            A compact, actionable blueprint to increase your survey qualification rate. Includes profile optimization, device & environment tips, timing strategy, payout verification checklist, and templates.
          </p>
          <p style="margin-top:8px;color:var(--muted)">Click download â€” the guide will be prepared and then downloaded.</p>
        </div>

        <div class="actions" style="align-items:center">
          <button id="downloadBtn" class="download-btn" aria-label="Download Survey Qualification Blueprint">
            <span id="downloadBtnText">Download</span>
            <span id="downloadSpinner" style="display:none;margin-left:8px"><span class="spinner" aria-hidden="true"></span></span>
          </button>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="reveal-right" data-reveal style="margin-top:18px">
      <div class="contact-card">
        <div style="display:flex;flex-direction:column;gap:10px">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
            <div>
              <div style="font-weight:700;color:var(--accent)">Contact</div>
              <div style="color:var(--muted)">Send feedback or questions via Telegram.</div>
            </div>
            <div style="display:flex;gap:10px;align-items:center">
              <a class="btn" href="#list">Explore</a>
              <a class="ghost" href="https://t.me/nirvainn" target="_blank" rel="noopener noreferrer" aria-label="Telegram Nirvainn">Telegram</a>
            </div>
          </div>
          <div style="color:var(--muted);font-size:0.92rem">Always verify payout options and privacy policies before sharing personal data.</div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div style="max-width:var(--maxw);margin:28px auto;padding:0 18px;text-align:center;color:var(--muted)">
      Created for you by <strong>u/pablowasdead</strong> â€” curated list.
    </div>
  </footer>

  <!-- overlay used while preparing download -->
  <div id="prepareOverlay" class="prepare-overlay" role="status" aria-live="polite" style="display:none">
    <div class="spinner" aria-hidden="true"></div>
    <div>
      <div style="font-weight:700">Preparing download</div>
      <div style="font-size:0.9rem;color:var(--muted);margin-top:4px">Your blueprint is being preparedâ€¦</div>
    </div>
  </div>

  <!-- scripts -->
  <script>
    (function(){
      // ---------- Preserve anti-copy ----------
      document.addEventListener('contextmenu', function(e){ e.preventDefault(); });
      document.addEventListener('keydown', function(e){
        if ((e.ctrlKey || e.metaKey) && ['c','u','s','a','x','p'].includes(e.key.toLowerCase())) { e.preventDefault(); }
        if (e.key === 'F12') e.preventDefault();
      });
      document.addEventListener('selectstart', function(e){ e.preventDefault(); });
      document.addEventListener('copy', function(e){ e.preventDefault(); });
      document.addEventListener('cut', function(e){ e.preventDefault(); });
      document.addEventListener('dragstart', function(e){ e.preventDefault(); });

      // ---------- elements ----------
      const filterSelect = document.getElementById('filter');
      const searchInput = document.getElementById('search');
      const clearBtn = document.getElementById('clear');
      const cards = Array.from(document.querySelectorAll('#cards .card'));
      const root = document.documentElement;
      const themeInput = document.getElementById('themeInput');
      const themeSwitch = document.getElementById('themeSwitch');
      const prepareOverlay = document.getElementById('prepareOverlay');
      const downloadBtn = document.getElementById('downloadBtn');
      const downloadBtnText = document.getElementById('downloadBtnText');
      const downloadSpinner = document.getElementById('downloadSpinner');
      const noResultsEl = document.getElementById('noResults');

      // ---------- category color map ----------
      const categoryColors = {
        all: {a:'#0a66c2', b:'#1e88e5'},
        survey: {a:'#0a66c2', b:'#1e88e5'},
        app: {a:'#6a4bd9', b:'#9b7bff'},
        data: {a:'#16a34a', b:'#4ade80'},
        passive: {a:'#f97316', b:'#ffb86c'}
      };
      function applyAccentFor(category){
        const map = categoryColors[category] || categoryColors['all'];
        root.style.setProperty('--accent', map.a);
        root.style.setProperty('--accent-2', map.b);
      }

      // search + filter (case-insensitive); debounced
      function normalize(s){ return (s||'').toString().toLowerCase(); }
      let debounceTimer;
      function applyFilter(){
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(() => {
          const q = normalize(searchInput.value.trim());
          const tag = filterSelect.value;
          let anyVisible = false;
          cards.forEach(card => {
            const title = normalize(card.querySelector('.title')?.textContent);
            const desc = normalize(card.querySelector('.desc')?.textContent);
            const tags = normalize(card.getAttribute('data-tags') || '');
            const matchesQuery = q === '' || title.includes(q) || desc.includes(q) || tags.includes(q);
            const matchesTag = tag === 'all' || tags.split(' ').includes(tag);
            const show = matchesQuery && matchesTag;
            card.style.display = show ? '' : 'none';
            if(show) anyVisible = true;
          });
          applyAccentFor(tag);
          noResultsEl.style.display = anyVisible ? 'none' : '';
        }, 120);
      }

      searchInput.addEventListener('input', applyFilter);
      filterSelect.addEventListener('change', applyFilter);
      clearBtn.addEventListener('click', function(){ searchInput.value=''; filterSelect.value='all'; applyFilter(); searchInput.focus(); });

      // default category on load
      const DEFAULT_CATEGORY = (getComputedStyle(document.documentElement).getPropertyValue('--filter-default') || 'survey').trim() || 'survey';
      filterSelect.value = DEFAULT_CATEGORY;
      applyFilter();

      // ---------- Improved theme toggle (init & behavior) ----------
      const THEME_KEY = 'sh_theme_pref';
      function setTheme(theme){
        if(theme === 'dark'){
          root.setAttribute('data-theme','dark');
          themeInput.checked = true;
          themeSwitch.setAttribute('aria-checked','true');
        } else {
          root.removeAttribute('data-theme');
          themeInput.checked = false;
          themeSwitch.setAttribute('aria-checked','false');
        }
        try{ localStorage.setItem(THEME_KEY, theme); } catch(e){}
      }
      (function initTheme(){
        let saved = null;
        try{ saved = localStorage.getItem(THEME_KEY); } catch(e){}
        if(saved === 'dark' || saved === 'light'){ setTheme(saved); }
        else {
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          setTheme(prefersDark ? 'dark' : 'light');
        }
      })();

      themeSwitch.addEventListener('click', function(){
        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        setTheme(isDark ? 'light' : 'dark');
      });
      themeSwitch.addEventListener('keydown', function(e){ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); themeSwitch.click(); } });

      // ---------- header show/hide on scroll ----------
      (function headerScroll(){
        const header = document.getElementById('siteHeader');
        let last = window.pageYOffset || document.documentElement.scrollTop;
        let hidden = false;
        window.addEventListener('scroll', function(){
          const cur = window.pageYOffset || document.documentElement.scrollTop;
          if(cur > last + 8 && cur > 100){
            if(!hidden){ header.style.transform = 'translateY(-12px)'; header.style.opacity = '0.9'; hidden = true; }
          } else if(cur < last - 8){
            if(hidden){ header.style.transform = 'translateY(0)'; header.style.opacity = '1'; hidden = false; }
          }
          last = cur <= 0 ? 0 : cur;
        }, {passive:true});
      })();

      // ---------- reveal on scroll ----------
      const reveals = document.querySelectorAll('[data-reveal]');
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('show'); });
      }, {threshold: 0.12});
      reveals.forEach(r => obs.observe(r));

      // ---------- tilt on pointer devices ----------
      function isTouch(){ return ('ontouchstart' in window) || navigator.maxTouchPoints > 0; }
      if(!isTouch()){
        cards.forEach(card => {
          card.addEventListener('mousemove', function(ev){
            const r = card.getBoundingClientRect();
            const cx = r.left + r.width/2;
            const cy = r.top + r.height/2;
            const dx = (ev.clientX - cx) / r.width;
            const dy = (ev.clientY - cy) / r.height;
            const rx = -dy * 6;
            const ry = dx * 6;
            card.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateZ(6px)`;
          });
          card.addEventListener('mouseleave', function(){ card.style.transform = ''; });
        });
      }

      // watermark float
      (function watermarkFloat(){
        const w = document.querySelector('.watermark');
        if(!w) return;
        let t = 0;
        function tick(){
          t += 0.02;
          const y = Math.sin(t) * 4;
          w.style.transform = `rotate(-18deg) translateY(${ -6 + y }vh)`;
          requestAnimationFrame(tick);
        }
        requestAnimationFrame(tick);
      })();

      // ---------- download behavior (1.2s) ----------
      const PDF_PATH = 'assets/SurveyQBby_pwd.pdf';
      downloadBtn.addEventListener('click', function(){
        downloadBtnText.textContent = 'Preparing';
        downloadSpinner.style.display = 'inline-block';
        downloadBtn.disabled = true;
        prepareOverlay.style.display = 'flex';
        setTimeout(()=> prepareOverlay.classList.add('show'), 8);

        setTimeout(()=> {
          prepareOverlay.classList.remove('show');
          setTimeout(()=> prepareOverlay.style.display = 'none', 180);

          const a = document.createElement('a');
          a.href = PDF_PATH;
          a.download = 'SurveyQBby_pwd.pdf';
          a.rel = 'noopener noreferrer';
          document.body.appendChild(a);
          a.click();
          a.remove();

          downloadBtnText.textContent = 'Download';
          downloadSpinner.style.display = 'none';
          downloadBtn.disabled = false;
        }, 1200);
      });
      downloadBtn.addEventListener('keydown', function(e){ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); downloadBtn.click(); } });

      // smooth internal anchor scrolling
      document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', function(e){
          const hash = this.getAttribute('href');
          if(hash && hash.startsWith('#')){
            e.preventDefault();
            const target = document.querySelector(hash);
            if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
          }
        });
      });

      // ensure initial accent matches default filter
      applyAccentFor(filterSelect.value || 'survey');

    })();
  </script>
</body>
  </html>
